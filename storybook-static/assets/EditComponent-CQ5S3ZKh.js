import{j as t}from"./jsx-runtime-SKoiH9zj.js";import{T as c}from"./Typography-DdMJCn-_.js";import{I as f}from"./Icon-BnrH6PuI.js";import{c as j}from"./checkEmpty-xi6SckPb.js";import{r as u}from"./index-DJO9vBfz.js";import{N as S,f as C}from"./sampleData-DguosTgJ.js";import{B as v}from"./Button-CpFgCZ6s.js";import{S as y}from"./Select-BJocvAjy.js";import{F as E}from"./Forms-BG_2S6F-.js";const A=(a,n)=>{const{action:i,sourceIndex:e,nlpName:r,id:s}=n;if(!i)return a;const o=[...a];let l={stepId:"stepId-9745-9745",isNew:!0,disabled:!1,...r&&{name:r},...s&&{id:s}};switch(i){case"addBelow":e!==void 0&&o.splice(e+1,0,l);break;case"replaceNlp":case"EditNlp":e!==void 0&&(o.splice(e,1),o.splice(e,0,l));break;case"addLast":o.push(l);break}return o},I=(a,n,i)=>a.map(e=>e.stepId===n&&["Group","PRE","POST","Script"].includes(e.type)?{...e,data:[...i||[]]}:e.data?{...e,data:I(e.data,n,i)}:e),H=(a,n,i,e)=>a.map(r=>r.title===n?{...r,data:I(r.data,i,e)}:r),N=({rowData:a,toggleViewRow:n})=>{const i=e=>e.toLowerCase().replace(/_/g," ").replace(/^./,r=>r.toUpperCase());return t.jsxs("section",{className:"ff-view-step-group",children:[t.jsxs("header",{className:"ff-view-step-group__header",children:[t.jsxs("div",{className:"ff-view-step-group__header_info",children:[t.jsxs(c,{as:"span",lineHeight:"18px",color:"var(--nlp-color)",children:[a.displayOrder,".",a.name]}),t.jsx(c,{as:"div",children:t.jsx(f,{name:"help_icon",height:16,width:16})})]}),t.jsxs("div",{className:"ff-view-step-group__header_link",children:[t.jsx(c,{color:"var(--nlp-color)",lineHeight:"18px",fontWeight:"semi-bold",style:{textDecoration:"underline"},children:"Open step group"}),t.jsx(f,{name:"vertical_separator",color:"var(--vertical-separate-color)",width:11,height:16,className:"ff-view-step-group__header-right__line"}),t.jsx(f,{name:"close",hoverEffect:!0,onClick:()=>n(null)})]})]}),t.jsx("article",{className:"ff-view-step-group__content",children:!j(a.stepInputs)&&a.stepInputs.map((e,r)=>t.jsxs("div",{className:"ff-view-step-group__content__item",children:[t.jsx(c,{as:"div",fontWeight:"medium",color:"var(--text-color)",lineHeight:"18px",children:e==null?void 0:e.name}),t.jsx(c,{as:"div",color:"var(--dataset-tooltip-title)",lineHeight:"18px",children:e!=null&&e.value.includes("_")?i(e.value):e.value})]},r))})]})};try{N.displayName="StepGroupDetailView",N.__docgenInfo={description:"",displayName:"StepGroupDetailView",props:{rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"DynamicObj"}},toggleViewRow:{defaultValue:null,description:"",name:"toggleViewRow",required:!0,type:{name:"(_val: null) => void"}}}}}catch{}const x=({handelChangeNlp:a,handleNlpSelect:n,nlpList:i,rowIndex:e,optionZIndex:r,rowData:s})=>{const[o,l]=u.useState(s.name||""),[p,h]=u.useState(i);u.useEffect(()=>{l(s.name||"")}),s.name;const _=d=>{a(d.target.value),l(d.target.value),h(i)},m=d=>{l(d.displayName),n({selectedNlp:d,indexValue:e,stepId:s.stepId})};return t.jsx(S,{label:"Search NLP",leftIcon:"ai_search",rightIcon:"help_icon",rightIconColor:"var(--nlp-color)",value:o,optionZIndex:r,onChange:_,onSelect:m,optionsList:p,chipOptionList:C,webServiceClick:()=>{alert("webServiceClick!")},onHelpIconClick:()=>{alert("Help icon clicked!!")},aiIconClick:()=>{alert("aiIconClick!")},containerWidth:"1000px"})};try{x.displayName="RenderNlpInput",x.__docgenInfo={description:"",displayName:"RenderNlpInput",props:{}}}catch{}const g=({rowData:a,rowIndex:n,handleAdd:i,handleCancel:e})=>{const[r]=u.useState({ifFailed:""});return t.jsxs("section",{className:"edit_depends_on_script",children:[t.jsxs("header",{className:"edit_depends_on_script__header",children:[t.jsx("div",{children:t.jsxs(c,{color:"var(--nlp-option-color)",lineHeight:"18px",children:[n,".",a==null?void 0:a.name]})}),t.jsx("div",{className:"edit_depends_on_script__header__link",children:t.jsx(c,{children:"Go to script",color:"var(--nlp-color)",fontWeight:"semi-bold"})})]}),t.jsx(E,{onSubmit:s=>i(s,n),defaultValues:r,children:({register:s,setValue:o,formState:{errors:l},watch:p,trigger:h})=>{var _;return t.jsxs("div",{className:"edit_depends_on_script__form",children:[t.jsx(y,{label:"if Failed",optionsList:[{label:"Mark this script as Failed and continue dependant script execution",value:"MARK_THIS_SCRIPT_AS_FAILED_AND_CONTINUE_DEPENDANT_SCRIPT_EXECUTION"},{label:"Mark this script as Warning and continue dependant script execution",value:"MARK_THIS_SCRIPT_AS_WARNING_AND_CONTINUE_DEPENDANT_SCRIPT_EXECUTION"}],...s("ifFailed"),onChange:m=>{o("ifFailed",m.label)},errorMsg:(_=l.ifFailed)==null?void 0:_.message,optionZIndex:9999,selectedOption:{label:p("ifFailed"),value:p("ifFailed")},onBlur:()=>{h("ifFailed")}}),t.jsxs("div",{className:"edit_depends_on_script__form__button",children:[t.jsx(v,{variant:"tertiary",children:"Cancel",onClick:e}),t.jsx(v,{variant:"primary",type:"submit",label:"Update"})]})]})}})]})};try{g.displayName="EditComponent",g.__docgenInfo={description:"",displayName:"EditComponent",props:{}}}catch{}export{g as E,x as R,N as S,A as a,I as b,H as c};
