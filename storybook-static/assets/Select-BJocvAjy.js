import{j as e}from"./jsx-runtime-SKoiH9zj.js";import{r as l,R as xe}from"./index-DJO9vBfz.js";import{I as G}from"./Icon-BnrH6PuI.js";import{T as A}from"./Typography-DdMJCn-_.js";import{c as i}from"./index-NZcV-alF.js";import{r as be}from"./index-CFN9ZEHn.js";import{c as oe}from"./checkEmpty-xi6SckPb.js";import{a as qe}from"./ThemeProvider-D5XEyBwi.js";import{g as Ve,a as w}from"./getSelectOptionValue-DZyM0SAQ.js";import{u as _e}from"./useClickOutside-BYc9KT_v.js";import{T as K}from"./Tooltip-jHEmaokv.js";import{B as ne}from"./Button-CpFgCZ6s.js";import{u as Se}from"./usePortalPosition-DKFkIZLt.js";const Ne={margin:6,optionHeight:32,selectInputHeight:38,dropDownWrapperPadding:0},Q=({options:n=[],optionZIndex:g=1e7,dropdownPosition:m,labelAccessor:t,onSelectOptionSelector:j,onSelectBlur:h,inputRef:C,selectArrowRef:W,heightFromTop:R,selectedOption:o,valueAccessor:X,showIcon:d=!1,showToolTip:_=!1,customReccurenece:x=!0,onCancelModal:J=()=>{},onSaveModal:s=()=>{},recurrence:P=!1,modalJSXProps:S=e.jsx(e.Fragment,{}),showArrowIcon:I=!0})=>{const b=l.useContext(qe),u=b==null?void 0:b.currentTheme,D=x?()=>{}:h,E=l.useRef(null);_e(E,D,[C,W]);const{positionX:L,positionY:B,fromBottom:$,width:c}=m,{margin:N,optionHeight:H,selectInputHeight:Y,dropDownWrapperPadding:M}=Ne,F=()=>{let a;return oe(n)?a=32+2*M:(n==null?void 0:n.length)>5?a=160:a=n.length*H+2*M,$>a+N?{left:L,top:B+R-10,width:d?c+70:I?c+32:c+10,zIndex:g,marginLeft:d?"-31px":"-2px"}:{zIndex:g,left:L,width:d?c+70:I?c+32:c+10,top:B-Y-a+4*N,marginLeft:d?"-29px":"-2px"}},r=(a,v)=>xe.isValidElement(a)?a:e.jsxs(K,{placement:"bottom",title:_?a:"",zIndex:g+1,style:{width:"100%",height:"32px",display:"flex",alignItems:"center"},children:[d&&e.jsx(G,{name:v,className:"ff-select-dropdown__icon"}),e.jsx(A,{as:"div",lineHeight:"25px",color:"var(--ff-select-text-color)",className:i("ff-select-dropdown-text",{"ff-select-dropdown-icon-container":d}),children:a})]}),q=()=>{J()},U=()=>{h(),s()};return e.jsxs("div",{className:i("ff-select-dropdown-wrapper",u,{"ff-select-dropdown-modal-wrapper":P,"ff-select-dropdown-mini-modal-wrapper":x}),ref:E,style:F(),children:[e.jsx("div",{className:i({"ff-select-label-minimodal-wrapper":x}),children:oe(n)?e.jsx(A,{textAlign:"center",as:"div",lineHeight:"32px",color:"var(--ff-select-text-color)",className:i("ff-select-no-option",u),children:"No Results found"}):n.map((a,v)=>e.jsx("div",{className:i("ff-select-dropdown-option",{"ff-select-dropdown-option__selected":w(a,X)===o},u),onClick:()=>{"disable"in a&&a.disable||j(a)},children:r(Ve(a,t),"iconName"in a&&a.iconName)},v))}),x&&e.jsx("div",{className:"ff-select-mini-modal-wrapper",id:"ff-select-mini-id",children:e.jsxs("div",{className:"ff-select-modal-wrapper",children:[e.jsx(e.Fragment,{children:S}),e.jsxs("div",{className:"ff-select-mini-modal-footer",children:[e.jsx(ne,{label:"Cancel",variant:"tertiary",onClick:q}),e.jsx(ne,{label:"Save",variant:"secondary",onClick:U})]})]})})]})};try{Q.displayName="Dropdown",Q.__docgenInfo={description:"",displayName:"Dropdown",props:{options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"Option[]"}},dropdownPosition:{defaultValue:null,description:"",name:"dropdownPosition",required:!0,type:{name:"DropdownPosition"}},optionZIndex:{defaultValue:{value:"10000000"},description:"",name:"optionZIndex",required:!1,type:{name:"number"}},labelAccessor:{defaultValue:null,description:"",name:"labelAccessor",required:!1,type:{name:"string"}},valueAccessor:{defaultValue:null,description:"",name:"valueAccessor",required:!1,type:{name:"string"}},onSelectBlur:{defaultValue:null,description:"",name:"onSelectBlur",required:!0,type:{name:"() => void"}},onSelectOptionSelector:{defaultValue:null,description:"",name:"onSelectOptionSelector",required:!0,type:{name:"(option: Option) => void"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},selectArrowRef:{defaultValue:null,description:"",name:"selectArrowRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}},heightFromTop:{defaultValue:null,description:"",name:"heightFromTop",required:!0,type:{name:"number"}},selectedOption:{defaultValue:null,description:"",name:"selectedOption",required:!1,type:{name:"Option"}},showIcon:{defaultValue:{value:"false"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}},showToolTip:{defaultValue:{value:"false"},description:"",name:"showToolTip",required:!1,type:{name:"boolean"}},customReccurenece:{defaultValue:{value:"true"},description:"",name:"customReccurenece",required:!1,type:{name:"boolean"}},onCancelModal:{defaultValue:{value:"() => {}"},description:"",name:"onCancelModal",required:!1,type:{name:"(() => void)"}},onSaveModal:{defaultValue:{value:"() => {}"},description:"",name:"onSaveModal",required:!1,type:{name:"(() => void)"}},modalJSXProps:{defaultValue:{value:"<></>"},description:"",name:"modalJSXProps",required:!1,type:{name:"ReactNode"}},recurrence:{defaultValue:{value:"false"},description:"",name:"recurrence",required:!1,type:{name:"boolean"}},showArrowIcon:{defaultValue:{value:"true"},description:"",name:"showArrowIcon",required:!1,type:{name:"boolean"}}}}}catch{}const se=({label:n="Default Label",showLabel:g=!0,optionsList:m=[],selectedOption:t={label:"",value:""},onChange:j=()=>{},errorMsg:h="",error:C=!1,className:W="",optionZIndex:R=1500,disabled:o=!1,showBorder:X=!0,required:d=!0,optionsRequired:_=!0,selectedOptionColor:x="var(--ff-select-text-color)",labelAccessor:J="",valueAccessor:s="",height:P=32,width:S="100%",onBlur:I=()=>{},disableInput:b=!1,showIcon:u=!1,placeHolder:D="",showToolTip:E=!1,onCancelModal:L=()=>{},onSaveModal:B=()=>{},modalJSXProps:$=e.jsx(e.Fragment,{}),recurrence:c=!1,showArrowIcon:N=!0,showOptions:H={open:!1,toggle:!1},tooltip:Y=!1})=>{const M=typeof S=="number"?`${S}px`:S,F=l.useMemo(()=>m,[m]),[r,q]=l.useState(!1),[U,a]=l.useState(!1),[v,T]=l.useState({searchedText:"",searchedIcon:""}),{searchedText:y,searchedIcon:ie}=v,[de,k]=l.useState([]),[ue,ee]=l.useState({positionX:0,positionY:0,width:0,fromBottom:0}),z=l.useRef(null),ce=l.useRef(null),V=l.useRef(null),ae=l.useRef(null),fe=Se(V,r),pe=()=>{o||(q(!r),T({...v,searchedText:w(t,s)||""}),k(m),!r&&V.current&&V.current.focus())},me=f=>{if(o)return;const{value:p}=f.target,we=m.filter(ge=>{const Z=w(ge,s);return typeof Z=="string"?Z.toLowerCase().includes(p.toLowerCase().trim()):Z===Number(p)});k(we),T({...v,searchedText:p})},te=()=>{!r||!(z!=null&&z.current)||o||ee(fe(V))},le=f=>{const p=window.innerWidth-document.documentElement.clientWidth;f?(document.body.style.paddingRight="",document.body.style.overflow=""):(document.body.style.paddingRight=`${p}px`,document.body.style.overflow="hidden")},he=()=>{o||q(!0)};l.useEffect(()=>{H.open&&q(!0)},[H.toggle]);const re=()=>{q(!1),ee({positionX:0,positionY:0,fromBottom:0,width:0}),T({searchedText:w(t,s)||"",searchedIcon:t.iconName||""}),k(m),a(!1),I()},ve=f=>{if(o)return;const p=(f==null?void 0:f.recurrence)||!1;a(p),T({searchedText:w(t,s),searchedIcon:t.iconName}),j&&j(f),p||re()},O=()=>te(),ye=()=>{o||(r&&_&&le(!r),te(),window.addEventListener("resize",O),window.addEventListener("scroll",O))};return l.useEffect(()=>(ye(),()=>{le(!0),window.removeEventListener("resize",O),window.removeEventListener("scroll",O)}),[r]),l.useEffect(()=>{T({searchedText:w(t,s),searchedIcon:t.iconName})},[t==null?void 0:t.label,t==null?void 0:t.value,t==null?void 0:t.iconName,w(t,s)]),l.useEffect(()=>{k(F)},[F]),g&&(D=""),e.jsxs("div",{className:`ff-select-wrapper ${W}`,ref:ce,style:{height:`${P}px`,width:`${M}`},children:[e.jsxs("div",{className:i("ff-select",{"ff-select__focus":r,"ff-select__disabled":o,"ff-select__error":!!h||C,"ff-select__error__focused":!!h&&r,"ff-select__no_border":!X}),children:[u&&e.jsx(K,{placement:"bottom",title:y,children:e.jsx(G,{name:ie,className:"ff-select-input-icon"})}),e.jsx(K,{title:Y?y:"",style:{width:"100%"},children:e.jsx("input",{type:"text",ref:V,id:"select-input-element",className:i("ff-select-inputField",{"ff-select-inputField__disabled":o,"ff-select-inputField__readonly":b,"ff-select-inputField__icon":u}),onFocus:he,value:y,autoCorrect:"off",autoComplete:"off",spellCheck:"false",style:{zIndex:R,color:x},disabled:o,onChange:me,readOnly:b,placeholder:D})}),_&&e.jsx("div",{ref:ae,className:i("ff-select-arrows-wrapper",{"ff-select-arrows-wrapper__disabled":o}),onClick:pe,children:N&&e.jsx(G,{name:"arrow_down",className:"ff-select-arrows",height:8,width:12})}),g&&e.jsx(A,{as:"span",className:i("ff-select-labels",{"ff-select-labels__icon":u,"ff-select-labels__active":y}),fontSize:y||r?10:12,lineHeight:y||r?"10px":"12px",required:d,children:n})]}),(h||C)&&e.jsx(A,{as:"div",lineHeight:"15px",fontSize:10,color:"var(--error_light)",className:"ff-select-error-msg",children:h}),_&&e.jsx("div",{ref:z,children:r&&be.createPortal(e.jsx(Q,{options:de,dropdownPosition:ue,labelAccessor:J,optionZIndex:R,inputRef:V,selectArrowRef:ae,onSelectBlur:re,onSelectOptionSelector:ve,heightFromTop:P,selectedOption:y,showIcon:u,showToolTip:E,customReccurenece:U,onSaveModal:B,onCancelModal:()=>{L(),a(!1)},modalJSXProps:$,recurrence:c,valueAccessor:s,showArrowIcon:N}),document.body)})]})};try{se.displayName="Select",se.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:{value:"Default Label"},description:"",name:"label",required:!1,type:{name:"string"}},showLabel:{defaultValue:{value:"true"},description:"",name:"showLabel",required:!1,type:{name:"boolean"}},showArrowIcon:{defaultValue:{value:"true"},description:"Provide the boolean value if arrow icon is reuired or not",name:"showArrowIcon",required:!1,type:{name:"boolean"}},optionsList:{defaultValue:{value:"[]"},description:"",name:"optionsList",required:!1,type:{name:"Option[]"}},selectedOption:{defaultValue:{value:"{ label: '', value: '' }"},description:"",name:"selectedOption",required:!1,type:{name:"Option"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"(option: Option) => void"}},errorMsg:{defaultValue:{value:""},description:"",name:"errorMsg",required:!1,type:{name:"string"}},error:{defaultValue:{value:"false"},description:"",name:"error",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},optionZIndex:{defaultValue:{value:"1500"},description:"",name:"optionZIndex",required:!1,type:{name:"number"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"boolean"}},showBorder:{defaultValue:{value:"true"},description:"",name:"showBorder",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"true"},description:"",name:"required",required:!1,type:{name:"boolean"}},optionsRequired:{defaultValue:{value:"true"},description:"optionsRequired:false prop removes options from dropdown & shows static label only",name:"optionsRequired",required:!1,type:{name:"boolean"}},selectedOptionColor:{defaultValue:{value:"var(--ff-select-text-color)"},description:"",name:"selectedOptionColor",required:!1,type:{name:"string"}},labelAccessor:{defaultValue:{value:""},description:"",name:"labelAccessor",required:!1,type:{name:"string"}},valueAccessor:{defaultValue:{value:""},description:"",name:"valueAccessor",required:!1,type:{name:"string"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string | number"}},onBlur:{defaultValue:{value:"() => {}"},description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},disableInput:{defaultValue:{value:"false"},description:"",name:"disableInput",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:{value:"false"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}},iconName:{defaultValue:null,description:"",name:"iconName",required:!1,type:{name:"string"}},placeHolder:{defaultValue:{value:""},description:"Provide the placehoder for the select",name:"placeHolder",required:!1,type:{name:"string"}},showToolTip:{defaultValue:{value:"false"},description:"Provide the boolean value if tooltip is reuired or not",name:"showToolTip",required:!1,type:{name:"boolean"}},labelBackgroundColor:{defaultValue:null,description:"Provide the background color for the select label on the hover state",name:"labelBackgroundColor",required:!1,type:{name:"string"}},onCancelModal:{defaultValue:{value:"() => {}"},description:"To close the modal in the select dropdown",name:"onCancelModal",required:!1,type:{name:"(() => void)"}},onSaveModal:{defaultValue:{value:"() => {}"},description:"To close the modal in the select dropdown",name:"onSaveModal",required:!1,type:{name:"(() => void)"}},modalJSXProps:{defaultValue:{value:"<></>"},description:"Pass the custom Jsx for the Modal",name:"modalJSXProps",required:!1,type:{name:"ReactNode"}},recurrence:{defaultValue:{value:"false"},description:"Pass the recurrence boolean for the exeception cases",name:"recurrence",required:!1,type:{name:"boolean"}},showOptions:{defaultValue:{value:"{ open: false, toggle: false }"},description:"Toggles the visibility of dropdown options, when called, toggles the dropdown visibility",name:"showOptions",required:!1,type:{name:"{ open: boolean; toggle: boolean; }"}},tooltip:{defaultValue:{value:"false"},description:"Tooltip for input data",name:"tooltip",required:!1,type:{name:"boolean"}}}}}catch{}export{se as S};
