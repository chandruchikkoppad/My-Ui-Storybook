import{j as n}from"./jsx-runtime-SKoiH9zj.js";import{r as l}from"./index-DJO9vBfz.js";import{I as B}from"./Icon-BnrH6PuI.js";import{S as le}from"./Select-BJocvAjy.js";import{c as H}from"./checkEmpty-xi6SckPb.js";import{c as v}from"./index-NZcV-alF.js";import{T as C}from"./Tooltip-jHEmaokv.js";import{T as ae}from"./Toast-CWcBRmbh.js";import{H as re}from"./HighlightText-DXRXqgoy.js";const W=({id:T="",onConfirm:q,onCancel:c,handleCustomError:V,value:r="",label:M="Add Script",optionsList:A=[],selectedOption:j={label:"",value:""},withDropdown:h,inputFieldWidth:K=350,selectFieldWidth:P=94,textColor:I="var(--nlp-color)",tooltip:d,required:x=!1,isDisable:t={confirm:!1,cancel:!1,textField:!1},onClick:w,highlightText:N="",isEditable:g,setIsEditable:a,cursor:k="pointer",isOnBlurTrue:Z=!1,handleOnChange:O})=>{const[z,s]=l.useState(!r),[o,f]=l.useState(r??""),[m,p]=l.useState(null),[G,u]=l.useState(""),[J,Q]=l.useState({error:!1}),[S,F]=l.useState(j),E=l.useRef(null),_=l.useRef(null),b=l.useRef(null),U=!H(o),X=e=>{const i=e.target.value;f(i),typeof O=="function"&&O(e)},Y=e=>{F(e)},$=()=>{t.textField||(m&&(clearTimeout(m),p(null)),s(!0),a&&a(T))},D=()=>{w&&w()},ee=()=>{m&&(clearTimeout(m),p(null));const e=window.setTimeout(()=>{D(),p(null)},1e3);p(e)},L=()=>{if(t.confirm)return;const e=V?V(o):"";e?(y("error"),u(e)):(s(!1),u(""),q&&q(o,S),a&&a(null))},te=e=>{var i;h||!Z||(i=E.current)!=null&&i.contains(e.relatedTarget)||e.relatedTarget===b.current||e.relatedTarget===_.current||(s(!1),f(r),u(""),c&&c(),a&&a(null))},R=()=>{if(!t.cancel){if(x&&!r){y("error"),u("Text is required.");return}c&&c(),f(r),F(j),s(!1),u(""),a&&a(null)}},ne=e=>{e.key==="Enter"?L():e.key==="Escape"&&R()},y=e=>{Q(i=>({...i,[e]:!i[e]}))};return l.useEffect(()=>{r&&f(r)},[r]),l.useEffect(()=>{a&&s(!!g)},[g]),n.jsxs("div",{className:"ff-add-module-container",style:{"--add-module-text-color":I,cursor:t&&k||"pointer"},ref:E,children:[z&&(!a||g)?n.jsxs("div",{className:"ff-add-module-edit-container",children:[n.jsxs("fieldset",{className:"ff-add-module-input-with-dropdown",children:[n.jsxs("div",{className:v("ff-add-module-input-container",{"ff-add-module-input-container--float":U}),style:{width:K},children:[n.jsxs("label",{className:"ff-add-module-label-container",htmlFor:"add-module-input",children:[x&&n.jsx("span",{className:"required-asterisk",children:"*"}),n.jsx("span",{className:v("ff-add-module-label",{"ff-input-label--no-hover":!!o}),children:M})]}),n.jsx("input",{name:"add-module-input",type:"text",className:v("ff-add-module-input",{"ff-add-module-input--border-right":!!h}),onChange:X,value:o,required:x,onBlur:te,disabled:t.textField,onKeyDown:ne,autoFocus:!0,autoComplete:"off"})]}),h&&n.jsx(le,{optionsList:A,selectedOption:S,showLabel:!1,showBorder:!1,onChange:Y,optionZIndex:999999,width:P,height:24,className:"ff-add-module-dropdown",selectedOptionColor:"var(--nlp-color)"})]}),n.jsxs("div",{className:"ff-module-icon-container",children:[n.jsx(C,{title:"Confirm",placement:"bottom",children:n.jsx(B,{className:"icons",name:"update_icon",onClick:()=>!t.confirm&&L(),color:t.confirm?"var(--default-color)":"var(--label-edit-confirm-icon)",height:16,width:16,ref:b,tabIndex:-1,disabled:t==null?void 0:t.confirm})}),n.jsx(C,{title:"Cancel",placement:"bottom",children:n.jsx(B,{className:"icons",name:"close",onClick:()=>!t.cancel&&R(),color:t.cancel?"var(--default-color)":"var(--label-edit-cancel-icon)",height:16,width:16,ref:_,tabIndex:-1,disabled:t==null?void 0:t.cancel})})]})]}):n.jsx(C,{title:(d==null?void 0:d.tooltipTitle)??"",placement:(d==null?void 0:d.tooltipPlacement)??"bottom",children:n.jsx("span",{className:"ff-add-module-display-text",style:{cursor:(t==null?void 0:t.textField)&&k||"pointer"},onDoubleClick:$,role:"button",onClick:ee,children:H(N)?o:n.jsx(re,{text:o,highlight:N})})}),n.jsx(ae,{isOpen:J.error,variant:"danger",toastTitle:"Error!",toastMessage:G,onCancelClick:()=>y("error")})]})};try{W.displayName="EditLabel",W.__docgenInfo={description:"",displayName:"EditLabel",props:{onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"((_text: string, _selectedOption?: Option) => void)"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"(() => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},handleCustomError:{defaultValue:null,description:"",name:"handleCustomError",required:!1,type:{name:"((inputText: string) => string)"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},label:{defaultValue:{value:"Add Script"},description:"",name:"label",required:!1,type:{name:"string"}},optionsList:{defaultValue:{value:"[]"},description:"",name:"optionsList",required:!1,type:{name:"Option[]"}},selectedOption:{defaultValue:{value:"{ label: '', value: '' }"},description:"",name:"selectedOption",required:!1,type:{name:"Option"}},withDropdown:{defaultValue:null,description:"",name:"withDropdown",required:!1,type:{name:"boolean"}},inputFieldWidth:{defaultValue:{value:"350"},description:"",name:"inputFieldWidth",required:!1,type:{name:"number"}},selectFieldWidth:{defaultValue:{value:"94"},description:"",name:"selectFieldWidth",required:!1,type:{name:"number"}},textColor:{defaultValue:{value:"var(--nlp-color)"},description:"",name:"textColor",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},isDisable:{defaultValue:{value:"{ confirm: false, cancel: false, textField: false }"},description:"",name:"isDisable",required:!1,type:{name:"DisabledOptions"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:'{ tooltipTitle?: string; tooltipPlacement?: "right" | "left" | "bottom" | "top" | "top-start" | "top-end" | "bottom-start" | "bottom-end"; } | undefined'}},highlightText:{defaultValue:{value:""},description:"",name:"highlightText",required:!1,type:{name:"string"}},id:{defaultValue:{value:""},description:"",name:"id",required:!1,type:{name:"string"}},isEditable:{defaultValue:null,description:"",name:"isEditable",required:!1,type:{name:"boolean"}},setIsEditable:{defaultValue:null,description:"",name:"setIsEditable",required:!1,type:{name:"((id: string | null) => void)"}},cursor:{defaultValue:{value:"pointer"},description:"",name:"cursor",required:!1,type:{name:"string"}},isOnBlurTrue:{defaultValue:{value:"false"},description:"",name:"isOnBlurTrue",required:!1,type:{name:"boolean"}},handleOnChange:{defaultValue:null,description:"",name:"handleOnChange",required:!1,type:{name:"((e: ChangeEvent<HTMLInputElement>) => void)"}}}}}catch{}export{W as E};
